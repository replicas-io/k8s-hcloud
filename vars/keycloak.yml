---
namespace: keycloak
keycloakClusterName: keycloak
keycloakRealms:
  - k8s

keycloakClients:
  - kubernetes

keycloakUsers:
  - username: admin
    firstName: admin
    lastName: admin
    email: admin@replicas.io

# Automatically create this in the iam playbook with the ingress routes role
keycloakRoute: "https://{{ keycloakClusterName }}.apps.k8s.{{ cluster.domain }}"

# OIDC for kube-apiserver
oidcIssuerURL: {{ keycloakRoute }}/auth/realms/{{ keycloakRealms[0] }}
oidcClientID: kubernetes
oidcOptions:
  - --oidc-issuer-url={{ oidcIssuerURL }}
  - --oidc-client-id={{ oidcClientID }}
  - --oidc-groups-claim=groups
